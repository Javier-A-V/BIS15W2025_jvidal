#install.packages("naniar")
library("tidyverse")
library("naniar")
library("janitor")
life_history <- read_csv("data/mammal_lifehistories_v3.csv") %>% clean_names()
summary(life_history)
life_history %>%
summarize(across(everything(), ~ sum(is.na(.))))
life_history %>%
summarize(across(everything(), ~ sum(is.na(.))))
View(life_history)
life_history %>%
filter(litters_year, na.rm = T)
life_history %>%
filter(litters_year != "NA")
install.packages("naniar")
install.packages("naniar")
life_history %>%
filter(~ != "-999")
summerize(where(is.numeric(na.rm = T))
life_history %>%
read_csv("data/mammal_lifehistories_v3.csv", na=c("NA", "-999", " ", ".")) %>% clean_names()
life_history_no_nas <- read_csv("data/mammal_lifehistories_v3.csv", na=c("NA", "-999", " ", ".")) %>% clean_names()
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
miss_var_summary(life_history_no_nas) #missing variable summary provides a list and percent missing
hist(life_history_no_nas$max_life) #we found another way that NA's are represented
life_history_no_nas %>%
filter(max_life==0) %>%
select(order, family, genus, species, max_life)
life_history_no_nas <- life_history_no_nas %>%
mutate(max_life=na_if(max_life, 0))
life_history_no_nas %>%
group_by(order) %>%
miss_var_summary(order=T)
life_history_no_nas %>%
filter(max_life==0) %>%
select(order, family, genus, species, max_life)
life_history %>% #going back to the original data
replace_with_na(replace = list(newborn = "not measured",
weaning= -999,
wean_mass= -999,
afr= -999,
max_life= 0,
litter_size= -999,
gestation= -999,
mass= -999)) %>%
miss_var_summary()
life_history %>% #going back to the original data
replace_with_na_all(condition = ~.x == -999)%>%
miss_var_summary()
common_na_strings
common_na_numbers
life_history %>% #going back to the original data
replace_with_na_all(condition = ~.x %in% c(common_na_strings, common_na_numbers)) %>%
mutate(newborn=na_if(newborn, "not measured"))
read_csv("data/cities.csv") %>% clean_names()
read_csv("data/cites.csv") %>% clean_names()
cites <- read_csv("data/cites.csv") %>% clean_names()
cites %>%
summarize(across(everything() ~sum(is.na(.))))
cites %>%
summarize(across(everything(), ~sum(is.na(.))))
View(cites)
cites %>%
group_by(class, exporter_reported_quantity) %>%
miss_var_summary(class=T, exporter_reported_quantity=T)
cites %>%
group_by(class, exporter_reported_quantity) %>%
miss_var_summary(class=T, exporter_reported_quantity=T) %>%
arrange(-n_miss)
cites %>%
select(class, exporter_reported_quantity) %>%
group_by(class) %>%
miss_var_summary() %>%
arrange(-n_miss)
miss_var_summary(cites)
summary(amniota)
library("tidyverse")
library("naniar")
library("janitor")
heartrate <- read_csv("data/heartrate.csv")
heartrate
heartrate %>%
pivot_longer(-patient, #patient will not move
names_to = "drug", #make a new column called "drug"
values_to="heartrate" #values moved to a new column called "heartrate"
)
relig_income <- read_csv("data/relig_income.csv") %>% clean_names()
relig_income
relig_income <- read_csv("data/relig_income.csv")
relig_income
relig_income %>%
pivot_longer(-religion, #not moving the religion column
names_to = "income", #column names to new variable
values_to = "total") #values to a new variable
billboard <- read_csv("data/billboard.csv")
billboard
billboard2 <-
billboard %>%
pivot_longer(wk1:wk76, # a range of columns
names_to = "week",
values_to = "rank",
values_drop_na = TRUE #this will drop the NA's
)
billboard2
billboard3 <-
billboard %>%
pivot_longer(-c(artist, track, date.entered), #specific columns to stay fixed
names_to = "week",
values_to = "rank",
values_drop_na = TRUE
)
billboard3
plant_data <- read_csv("data/plant_data.csv")
plant_data
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
values_to = "Length")
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
names_prefix = "D"
values_to = "Length")
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
names_prefix = "D",
values_to = "Length")
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
values_to = "Length")
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
values_to = "Expression ")
plant_data %>%
pivot_longer(day1:day30,
names_to = "Day",
values_to = "Expression",
values_drop_na = TRUE)
qpcr_untidy <- read_csv("data/qpcr_untidy.csv")
qpcr_untidy
qpcr_untidy %>%
pivot_longer(
exp1_rep1:exp3_rep3,
names_to= c("experiment", "replicate"),
names_sep="_",
values_to="mRNA_expression"
)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("data/amniota.csv")
amniota
amphibio <- read_csv("data/amphibio.csv")
amphibio
summary(amniota)
View(amniota)
summary(amphibio)
View(amphibio)
amniota %>%
count(weaning_d)
amniota %>%
count(female_maturity_d)
summary(amphibio)
amniota %>%
summarize(across(everything(), ~ sum(is.na(.))))
amphibio %>%
summarize(across(everything(), ~ sum(is.na(.))))
amniota_no_nas <- read_csv("data/amniota.csv", na=c("-999.000", "-999", "-999.0")) %>% clean_names()
amniota_no_nas <- read_csv("data/amniota.csv", na=c("-999.000", "-999", "-999.0")) %>% clean_names()
amniota_no_nas
View(amniota_no_nas)
miss_var_summary(amniota_no_nas)
miss_var_summary(amphibio)
miss_var_summary(amniota)
miss_var_summary(amniota_no_nas)
amniota_no_nas %>%
group_by(class)
table(amniota_no_nas$class)
amniota_no_nas %>%
group_by(class)
amniota_no_nas %>%
select(egg_mass_g) %>%
group_by(class) %>%
miss_var_summary()
amniota_no_nas %>%
group_by(class) %>%
miss_var_summary()
amniota_no_nas %>%
group_by(class) %>%
miss_var_summary(egg_mass_g)
amniota_no_nas %>%
group_by(class) %>%
summarize(across(egg_mass_g(), ~ sum(is.na(.))))
amniota_no_nas %>%
group_by(class) %>%
summarize(across(egg_mass_g, ~ sum(is.na(.))))
