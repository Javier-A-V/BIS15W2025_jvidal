library("tidyverse")
library("janitor")
#install.packages("palmerpenguins")
install.packages("palmerpenguins")
library("palmerpenguins")
penguins <- penguins
View(penguins)
penguins %>% #loads the data and pipes it to the filter function
filter(species=="Adelie") %>% #pulls out only the Adelie penguins
summarize(mean_body_mass=mean(body_mass_g, na.rm=T), #calculates the mean
n=n()) #number of observations
penguins %>%
count(species)
penguins %>%
tabyl(species)
penguins %>%
table(species)
penguins %>%
table("species")
penguins %>%
filter("Adelie", "Chinstrap", "Gentoo")
penguins %>%
select("Adelie", "Chinstrap", "Gentoo")
penguins %>%
filter(species=="Adelie", species=="Chinstrap", species=="Gentoo")
penguins %>%
filter(species=="Adelie", species=="Chinstrap", species=="Gentoo")%>%
summaraize(mean_mass=mean(body_mass_g))
penguins %>%
filter(species=="Chinstrap")%>%
summaraize(mean_mass=mean(body_mass_g))
penguins %>%
filter(species=="Chinstrap")%>%
summaraize(mean_mass=mean(body_mass_g),
n=n())
penguins %>%
filter(species=="Chinstrap")%>%
summarize(mean_mass=mean(body_mass_g),
n=n())
penguins %>%
group_by(species) %>%
summarize(mean_body_mass=mean(body_mass_g, na.rm=T),
n=n())
msleep
msleep <- msleep
View(msleep)
msleep %>%
group_by(vore) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n())
msleep %>%
group_by(vore, na.rm=T) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n())
msleep %>%
group_by(vore) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n())
msleep %>%
group_by(vore) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n(na.rm=T))
msleep %>%
group_by(vore) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n()na.rm=T)
msleep %>%
group_by(vore) %>%
summarize(min_bodyweight=min(bodywt, na.rm=T),
max_bodyweight=max(bodywt, na.rm=T),
mean_bodyweight=mean(bodywt, na.rm=T),
n=n())
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=T)
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=T))
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=TRUE))
msleep %>%
group_by(order) %>%
summarize(mean_brainwt=mean(brainwt, na.rm=TRUE))
msleep %>%
filter(order=="Cetacea") %>%
select(order, genus, brainwt)
penguins %>%
group_by(species, island) %>%
summarize(n=n(), .groups= 'keep') #.groups= 'keep' is used to keep the grouping variable in the output
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm),
.groups= 'keep',
n=n())
penguins %>%
group_by(island, species, sex) %>%
summarize(sex_species=sex,
.groups= 'keep',
n=n())
penguins %>%
filter(sex=="NA") %>%
select(species, island, sex)
penguins %>%
filter(sex==NA) %>%
select(species, island, sex)
penguins %>%
filter(sex!="male")
penguins %>%
filter(sex!="male", sex!="female")
penguins %>%
filter(sex!="male" & sex!="female")
penguins %>%
filter(sex!="male" | sex!="female")
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm),
n=n())
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm, na.rm=T)
.groups='keep',
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm, na.rm=T)
.groups='keep')
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm, na.rm=T)
.groups= 'keep')
penguins %>%
group_by(island, species) %>%
summarize(mean_bill=mean(bill_length_mm, na.rm=T),
.groups= 'keep')
penguins %>%
summarize(distinct_species = n_distinct(species),
distinct_island = n_distinct(island),
distinct_sex = n_distinct(sex))
penguins %>%
summarize(across(c(species, island, sex), n_distinct))
penguins %>%
summarize(across(c(species, island, sex), \(x) n_distinct(x, na.r=T)))
penguins %>%
summarize(across(c(species, island, sex), \(x) n_distinct(x, na.rm=T)))
#function takes x (each column that we specified) and applies n_distinct
penguins %>%
summarize(across(where(is.numeric), mean, na.rm=T)) %>%
select(!year) #removes the year variable
penguins %>%
summarize(across(where(is.numeric), \x mean(x, na.rm=T)))
penguins %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T)))
penguins %>%
filter(species=="Adelie")
penguins %>%
group_by(sex) %>%
summarize(across(contains("mm"), mean, na.rm=T))
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T)))
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T),
n=n()))
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T),
n=n())
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T)))
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year)
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year, !body_mass_g)
penguins %>%
filter(species=="Adelie") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year & !body_mass_g)
penguins %>%
filter(species=="Gentoo") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year & !body_mass_g)
penguins %>%
filter(species=="Chinstrap") %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year & !body_mass_g)
penguins %>%
group_by(species) %>%
summarize(across(where(is.numeric), \(x) mean(x, na.rm=T))) %>%
select(!year & !body_mass_g)
penguins %>%
group_by(species) %>%
summarize(across(contains("mm"), \(x) mean(x, na.rm=T)))
penguins %>%
group_by(species) %>%
summarize(across(contains("mm"), list(mean=\(x) mean(x, na.rm=T), sd=\(x) sd(x, na.rm=T)))
penguins %>%
group_by(species) %>%
summarize(across(contains("mm"), list(mean=\(x) mean(x, na.rm=T),
sd=\(x) sd(x, na.rm=T)))
penguins %>%
group_by(species) %>%
summarize(across(contains("mm"), list(mean=\(x) mean(x, na.rm=T),
sd=\(x) sd(x, na.rm=T))))
penguins %>%
group_by(species) %>%
summarize(across(contains("mm"), \(x) mean(x, na.rm=T)),
n=n())
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
fisheries <- read_csv("data/fisheries.csv")
View(fisheries)
summary(fisheries)
fisheries %>%
names()
fisheries %>%
names() %>%
anyNA()
names(fisheries)
anyNA(fisheries)
class(my.numeric)
class(fisheries)
class(country)
class("country")
class(c(country, common_name)
class(c(country, common_name)
fisheries %>%
summarize(across(class(x)))
fisheries %>%
summarize(across(class()))
glimpse(fisheries)
fisheries %>%
summarize(n_distinct(country))
fisheries %>%
count(country)
fisheries %>%
summarize(n_country=n_distinct(country))
fisheries %>%
count(country)
fisheries %>%
group_by(country) %>%
summarize(n=n())
fisheries %>%
count(country)
fisheries %>%
count(country) %>%
pull
fisheries %>%
count(country) %>%
pull()
fisheries %>%
count(country) %>%
fisheries %>%
count(country)
fisheries %>%
select(asfis_species_number, common_name) %>%
summarize(nfish=n_distinct(asfis_species_number),
n=())
fisheries %>%
select(asfis_species_number, common_name) %>%
summarize(nfish=n_distinct(asfis_species_number)
fisheries %>%
summarize(nfish=n_distinct(asfis_species_number)
fisheries %>%
summarize(nfish=n_distinct(asfis_species_number))
fisheries %>%
group_by(asfis_species_number) %>%
summarize(nfish=n_distinct(asfis_species_number))
fisheries %>%
group_by(common_name) %>%
summarize(nfish=n_distinct(asfis_species_number))
fisheries %>%
group_by(asfis_species_number) %>%
summarize(nfish=sum(asfis_species_number))
fisheries %>%
count(asfis_species_number)
msleep %>%
summarize(n_genera=n_distinct(genus))
fisheries %>%
summarize(nfish=n_distinct(asfis_species_number))
fisheries %>%
group_by(isscaap_taxonomic_group)
fisheries %>%
group_by(isscaap_taxonomic_group) %>%
summarize(totalC=sum(catch))
fisheries %>%
group_by(isscaap_taxonomic_group) %>%
summarize(totalC=sum(catch, na.rm=T))
fisheries %>%
group_by(asfis_species_name)
fisheries %>%
group_by(asfis_species_name!="Osteichthyes")
fisheries %>%
group_by(asfis_species_name)
fisheries %>%
group_by(asfis_species_name!="Osteichthyes")
x <- fisheries %>%
group_by(asfis_species_name!="Osteichthyes")
View(x)
fisheries %>%
group_by(asfis_species_name!="Osteichthyes")
fisheries %>%
group_by(asfis_species_name!)
fisheries %>%
group_by(asfis_species_name)
fisheries %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T))
fisheries %>%
filter(asfis_species_name!="Osteichthyes")
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T))
fisheries %>%
filter(asfis_species_name=="Osteichthyes")
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T))
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T))
fisheries %>%
count(country, sort = T)
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T), sort = T)
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T, sort = T))
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T)) %>%
arrange(-totalC)
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
summarize(totalC=sum(catch, na.rm=T)) %>%
arrange(-totalC)
fisheries %>%
filter(asfis_species_name!="Osteichthyes") %>%
group_by(asfis_species_name) %>%
summarize(totalC=sum(catch, na.rm=T)) %>%
arrange(-totalC)
fisheries %>%
group_by(isscaap_taxonomic_group) %>%
summarize(totalC=sum(catch, na.rm=T)) %>%
arrange(-totalC)
fisheries %>%
group_by(country, catch)
fisheries %>%
group_by(country) %>%
summarize(across(contains("Engraulis ringens")))
fisheries %>%
group_by(country, catch) %>%
summarize(across(contains("Engraulis ringens")))
fisheries %>%
group_by(country, catch) %>%
summarize(across(contains("Engraulis ringens") \(catch), sum(catch, na.rm=T)))
fisheries %>%
group_by(country, catch) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T)))
fisheries %>%
group_by(country, catch) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T))) %>%
arrange(-catch)
fisheries %>%
select(country, catch) %>%
group_by(country) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T))) %>%
arrange(-catch)
fisheries %>%
group_by(country) %>%
select(country, catch) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T))) %>%
arrange(-catch)
fisheries %>%
group_by(country) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T))) %>%
arrange(-catch)
fisheries %>%
group_by(country, catch) %>%
summarize(across(contains("Engraulis ringens"), \(catch) sum(catch, na.rm=T))) %>%
arrange(-catch)
fisheries %>%
filter(year>2002, year<2012)
